/**************************************************************************
	purpose  :	适配不同操作系统的线程处理函数。
***************************************************************************/


#ifndef _thread_h_
#define _thread_h_


#include "def.h"

/***************************************************************************
* 描述: 平台专属定义。
***************************************************************************/
#if (LIC_WINDOWS == LIC_OS)
#include <Windows.h>
#define HThread HANDLE

#elif (LIC_LINUX == LIC_OS)
#include <pthread.h>
#define HThread pthread_t

#else
#error ####################不支持的系统####################
#endif


/***************************************************************************
* 描述: 线程主函数。
***************************************************************************/
typedef void* (*thread_fn)(void* pData);

/***************************************************************************
* 描述: 启动一个新的线程。
***************************************************************************/
HThread thread_start(thread_fn threadfn, void* pData);

/***************************************************************************
* 描述: 等待指定线程运行结束。
***************************************************************************/
void thread_wait(HThread* pThread);

#endif // _thread_h_
